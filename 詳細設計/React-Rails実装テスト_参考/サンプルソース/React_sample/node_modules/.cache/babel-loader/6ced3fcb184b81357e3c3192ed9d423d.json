{"ast":null,"code":"import _defineProperty from\"/Users/ryotaaoyagi/crud_front/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ryotaaoyagi/crud_front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ryotaaoyagi/crud_front/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/ryotaaoyagi/crud_front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/ryotaaoyagi/crud_front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/ryotaaoyagi/crud_front/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import ProductsContainer from'./ProductsContainer';import FormContainer from'./FormContainer';import axios from'axios';import'bootstrap/dist/css/bootstrap.css';import'bootstrap/dist/css/bootstrap-theme.css';import update from'react-addons-update';var MainContainer=/*#__PURE__*/function(_React$Component){_inherits(MainContainer,_React$Component);function MainContainer(props){var _this;_classCallCheck(this,MainContainer);_this=_possibleConstructorReturn(this,_getPrototypeOf(MainContainer).call(this,props));_this.createProduct=function(product){axios.post('http://localhost:3001/products',{product:product}).then(function(response){var newData=update(_this.state.products,{$push:[response.data]});_this.setState({products:newData});}).catch(function(data){console.log(data);});};_this.deleateProduct=function(id){axios.delete(\"http://localhost:3001/products/\".concat(id)).then(function(response){var productIndex=_this.state.products.findIndex(function(x){return x.id===id;});var deletedProducts=update(_this.state.products,{$splice:[[productIndex,1]]});_this.setState({products:deletedProducts});console.log('set');}).catch(function(data){console.log(data);});};_this.updateProduct=function(id,product){axios.patch(\"http://localhost:3001/products/\".concat(id),{product:product}).then(function(response){var productIndex=_this.state.products.findIndex(function(x){return x.id===id;});var products=update(_this.state.products,_defineProperty({},productIndex,{$set:response.data}));_this.setState({products:products});}).catch(function(data){console.log(data);});};_this.state={products:[]};return _this;}_createClass(MainContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:3001/products').then(function(results){console.log(results);_this2.setState({products:results.data});}).catch(function(data){console.log(data);});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"app-main\"},React.createElement(FormContainer,{hendleAdd:this.hendleAdd,createProduct:this.createProduct}),React.createElement(ProductsContainer,{productData:this.state.products,deleateProduct:this.deleateProduct,updateProduct:this.updateProduct}));}}]);return MainContainer;}(React.Component);export default MainContainer;","map":{"version":3,"sources":["/Users/ryotaaoyagi/crud_front/src/Components/MainContainer.jsx"],"names":["React","ProductsContainer","FormContainer","axios","update","MainContainer","props","createProduct","product","post","then","response","newData","state","products","$push","data","setState","catch","console","log","deleateProduct","id","delete","productIndex","findIndex","x","deletedProducts","$splice","updateProduct","patch","$set","get","results","hendleAdd","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ProductsContainer from './ProductsContainer'\nimport FormContainer from './FormContainer'\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/css/bootstrap-theme.css';\nimport update from 'react-addons-update'\n\nclass MainContainer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      products: []\n    }\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:3001/products')\n    .then((results) => {\n      console.log(results)\n      this.setState({products: results.data})\n    })\n    .catch((data) =>{\n      console.log(data)\n    })\n  }\n\n  createProduct = (product) => {\n    axios.post('http://localhost:3001/products',{product: product} )\n    .then((response) => {\n      const newData = update(this.state.products, {$push:[response.data]})\n      this.setState({products: newData})\n    })\n    .catch((data) =>{\n      console.log(data)\n    })\n  }\n\n  deleateProduct = (id) => {\n    axios.delete(`http://localhost:3001/products/${id}`)\n    .then((response) => {\n      const productIndex = this.state.products.findIndex(x => x.id === id)\n      const deletedProducts = update(this.state.products, {$splice: [[productIndex, 1]]})\n      this.setState({products: deletedProducts})\n      console.log('set')\n    })\n    .catch((data) =>{\n      console.log(data)\n    })\n  }\n\n  updateProduct = (id, product) => {\n    axios.patch(`http://localhost:3001/products/${id}`,{product: product})\n    .then((response) => {\n      const productIndex = this.state.products.findIndex(x => x.id === id)\n      const products = update(this.state.products, {[productIndex]: {$set: response.data}})\n      this.setState({products: products})\n    })\n    .catch((data) =>{\n      console.log(data)\n    })\n  }\n\n  render() {\n    return (\n      <div className='app-main'>\n        <FormContainer  hendleAdd={this.hendleAdd} createProduct={this.createProduct}/>\n        <ProductsContainer productData={this.state.products} deleateProduct={this.deleateProduct} updateProduct={this.updateProduct}/>\n      </div>\n    );\n  }\n}\n\nexport default MainContainer"]},"metadata":{},"sourceType":"module"}